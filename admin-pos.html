<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Golf Cove - POS System</title>
    <link rel="icon" type="image/png" href="images/golfCoveLogo6.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #1a1a2e; color: #fff; min-height: 100vh; }
        
        .pos-header { background: linear-gradient(135deg, #16213e 0%, #0f3460 100%); padding: 12px 20px; display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid #37b24a; }
        .pos-header .logo { display: flex; align-items: center; gap: 12px; }
        .pos-header .logo img { height: 40px; }
        .pos-header .logo h1 { font-size: 18px; }
        .pos-header .datetime { text-align: right; font-size: 14px; }
        .pos-header .datetime .time { font-size: 24px; font-weight: 700; color: #37b24a; }
        .pos-header .back-link { color: #fff; text-decoration: none; padding: 8px 16px; background: rgba(255,255,255,0.1); border-radius: 6px; margin-right: 20px; }
        .pos-header .back-link:hover { background: rgba(255,255,255,0.2); }

        .pos-layout { display: grid; grid-template-columns: 250px 1fr 350px; height: calc(100vh - 70px); }

        .pos-sidebar { background: #16213e; border-right: 1px solid #2a2a4a; padding: 15px 0; overflow-y: auto; }
        .nav-section { margin-bottom: 20px; }
        .nav-section-title { font-size: 11px; color: #6b7280; text-transform: uppercase; letter-spacing: 1px; padding: 0 20px; margin-bottom: 8px; }
        .nav-btn { display: flex; align-items: center; gap: 12px; width: 100%; padding: 12px 20px; background: none; border: none; color: #9ca3af; font-size: 14px; cursor: pointer; text-align: left; transition: all 0.2s; border-left: 3px solid transparent; }
        .nav-btn:hover { background: rgba(55,178,74,0.1); color: #37b24a; }
        .nav-btn.active { background: rgba(55,178,74,0.15); color: #37b24a; border-left-color: #37b24a; }
        .nav-btn i { width: 20px; text-align: center; }

        .pos-main { background: #1e1e3f; padding: 20px; overflow-y: auto; }
        .page-title { font-size: 22px; font-weight: 700; margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }
        .page-title i { color: #37b24a; }

        .tee-sheet-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; margin-bottom: 25px; }
        .bay-card { background: #2a2a4a; border-radius: 12px; padding: 15px; cursor: pointer; transition: all 0.2s; border: 2px solid transparent; }
        .bay-card:hover { border-color: #37b24a; transform: translateY(-2px); }
        .bay-card.occupied { border-color: #f59e0b; background: linear-gradient(135deg, #2a2a4a 0%, rgba(245,158,11,0.1) 100%); }
        .bay-card.available { border-color: #10b981; }
        .bay-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .bay-name { font-weight: 700; font-size: 16px; }
        .bay-status { font-size: 11px; padding: 4px 10px; border-radius: 20px; text-transform: uppercase; font-weight: 600; }
        .bay-status.available { background: #10b981; color: #fff; }
        .bay-status.occupied { background: #f59e0b; color: #000; }
        .bay-status.reserved { background: #3b82f6; color: #fff; }
        .bay-info { font-size: 13px; color: #9ca3af; }
        .bay-info .customer { color: #fff; font-weight: 500; }
        .bay-info .time { color: #37b24a; }

        .time-slots { margin-top: 20px; }
        .time-slot-header { display: grid; grid-template-columns: 80px repeat(6, 1fr); gap: 5px; margin-bottom: 10px; font-weight: 600; font-size: 12px; text-align: center; }
        .time-slot-row { display: grid; grid-template-columns: 80px repeat(6, 1fr); gap: 5px; margin-bottom: 5px; }
        .time-label { background: #2a2a4a; padding: 10px; border-radius: 6px; font-size: 13px; display: flex; align-items: center; justify-content: center; }
        .slot { background: #2a2a4a; padding: 10px; border-radius: 6px; text-align: center; font-size: 11px; cursor: pointer; transition: all 0.2s; min-height: 45px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .slot:hover { background: #3a3a5a; }
        .slot.booked { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: #000; font-weight: 600; }
        .slot.available { background: rgba(16,185,129,0.2); border: 1px solid #10b981; }

        .pos-cart { background: #16213e; border-left: 1px solid #2a2a4a; display: flex; flex-direction: column; }
        .cart-header { padding: 20px; border-bottom: 1px solid #2a2a4a; }
        .cart-header h2 { font-size: 18px; display: flex; align-items: center; gap: 10px; }
        .cart-header h2 i { color: #37b24a; }
        .cart-customer { margin-top: 15px; }
        .cart-customer input { width: 100%; padding: 12px; background: #2a2a4a; border: 1px solid #3a3a5a; border-radius: 8px; color: #fff; font-size: 14px; }
        .cart-customer input::placeholder { color: #6b7280; }
        .cart-items { flex: 1; overflow-y: auto; padding: 15px; }
        .cart-item { background: #2a2a4a; border-radius: 10px; padding: 12px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .cart-item-info h4 { font-size: 14px; margin-bottom: 4px; }
        .cart-item-info p { font-size: 12px; color: #9ca3af; }
        .cart-item-price { font-weight: 700; color: #37b24a; font-size: 16px; }
        .cart-item-remove { background: none; border: none; color: #ef4444; cursor: pointer; padding: 5px; margin-left: 10px; }
        .cart-empty { text-align: center; color: #6b7280; padding: 40px 20px; }
        .cart-empty i { font-size: 48px; margin-bottom: 15px; opacity: 0.5; }
        .cart-footer { padding: 20px; border-top: 1px solid #2a2a4a; }
        .cart-totals { margin-bottom: 15px; }
        .cart-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; }
        .cart-row.total { font-size: 20px; font-weight: 700; color: #37b24a; border-top: 1px solid #3a3a5a; padding-top: 10px; margin-top: 10px; }
        .checkout-btn { width: 100%; padding: 16px; background: linear-gradient(135deg, #37b24a 0%, #2d9440 100%); color: #fff; border: none; border-radius: 10px; font-size: 16px; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; transition: all 0.2s; }
        .checkout-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(55,178,74,0.4); }
        .checkout-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

        .pos-categories { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .category-btn { padding: 10px 20px; background: #2a2a4a; border: none; border-radius: 8px; color: #fff; cursor: pointer; font-size: 14px; transition: all 0.2s; }
        .category-btn:hover, .category-btn.active { background: #37b24a; }
        .pos-items-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 12px; }
        .pos-item { background: #2a2a4a; border-radius: 12px; padding: 15px; text-align: center; cursor: pointer; transition: all 0.2s; border: 2px solid transparent; }
        .pos-item:hover { border-color: #37b24a; transform: translateY(-3px); }
        .pos-item i { font-size: 28px; color: #37b24a; margin-bottom: 10px; }
        .pos-item h4 { font-size: 12px; margin-bottom: 5px; }
        .pos-item .price { color: #37b24a; font-weight: 700; font-size: 14px; }

        .quick-actions { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
        .quick-action { background: #2a2a4a; border-radius: 10px; padding: 15px; text-align: center; cursor: pointer; transition: all 0.2s; border: none; color: #fff; }
        .quick-action:hover { background: #3a3a5a; transform: translateY(-2px); }
        .quick-action i { font-size: 24px; color: #37b24a; margin-bottom: 8px; display: block; }
        .quick-action span { font-size: 12px; }

        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); display: none; align-items: center; justify-content: center; z-index: 1000; }
        .modal-overlay.active { display: flex; }
        .modal { background: #1e1e3f; border-radius: 16px; padding: 30px; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto; }
        .modal h3 { font-size: 20px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
        .modal h3 i { color: #37b24a; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 6px; font-size: 13px; color: #9ca3af; }
        .form-group input, .form-group select { width: 100%; padding: 12px; background: #2a2a4a; border: 1px solid #3a3a5a; border-radius: 8px; color: #fff; font-size: 14px; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .modal-actions { display: flex; gap: 10px; margin-top: 20px; }
        .modal-actions button { flex: 1; padding: 12px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; }
        .btn-primary { background: #37b24a; color: #fff; border: none; }
        .btn-primary:hover { background: #2d9440; }
        .btn-secondary { background: transparent; color: #fff; border: 2px solid #3a3a5a; }
        .btn-secondary:hover { border-color: #fff; }

        .members-list { max-height: 400px; overflow-y: auto; }
        .member-card { background: #2a2a4a; border-radius: 10px; padding: 15px; margin-bottom: 10px; display: flex; align-items: center; gap: 15px; cursor: pointer; transition: all 0.2s; }
        .member-card:hover { background: #3a3a5a; }
        .member-avatar { width: 50px; height: 50px; background: linear-gradient(135deg, #37b24a 0%, #2d9440 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 18px; }
        .member-info { flex: 1; }
        .member-info h4 { font-size: 15px; margin-bottom: 3px; }
        .member-info p { font-size: 12px; color: #9ca3af; }
        .member-tier { padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: 600; }
        .member-tier.gold { background: #f59e0b; color: #000; }
        .member-tier.silver { background: #9ca3af; color: #000; }
        .member-tier.bronze { background: #cd7f32; color: #fff; }

        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px; }
        .stat-card { background: #2a2a4a; border-radius: 12px; padding: 20px; }
        .stat-card .value { font-size: 26px; font-weight: 700; color: #37b24a; }
        .stat-card .label { font-size: 12px; color: #9ca3af; margin-top: 5px; }
        .stat-card i { font-size: 20px; color: #37b24a; margin-bottom: 10px; }

        .transactions-table { width: 100%; border-collapse: collapse; }
        .transactions-table th, .transactions-table td { padding: 12px; text-align: left; border-bottom: 1px solid #2a2a4a; font-size: 13px; }
        .transactions-table th { color: #9ca3af; font-size: 11px; text-transform: uppercase; }
        .transactions-table tr:hover { background: #2a2a4a; }
        .status-badge { padding: 4px 10px; border-radius: 20px; font-size: 10px; font-weight: 600; }
        .status-badge.completed { background: #10b981; color: #fff; }

        .payment-methods { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 20px; }
        .payment-method { background: #2a2a4a; border: 2px solid transparent; border-radius: 10px; padding: 20px; text-align: center; cursor: pointer; transition: all 0.2s; }
        .payment-method:hover, .payment-method.selected { border-color: #37b24a; background: rgba(55,178,74,0.1); }
        .payment-method i { font-size: 28px; color: #37b24a; margin-bottom: 8px; display: block; }
        .payment-method span { font-size: 13px; }
        .payment-summary { background: #2a2a4a; border-radius: 10px; padding: 20px; margin-bottom: 20px; }

        .search-box { position: relative; margin-bottom: 20px; }
        .search-box input { width: 100%; padding: 12px 12px 12px 45px; background: #2a2a4a; border: 1px solid #3a3a5a; border-radius: 8px; color: #fff; font-size: 14px; }
        .search-box i { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: #6b7280; }

        @media (max-width: 1200px) { .pos-layout { grid-template-columns: 200px 1fr 300px; } .tee-sheet-grid { grid-template-columns: repeat(3, 1fr); } }
        @media (max-width: 900px) { .pos-layout { grid-template-columns: 1fr; } .pos-sidebar { display: none; } .stats-grid { grid-template-columns: repeat(2, 1fr); } }
    </style>
</head>
<body>
    <header class="pos-header">
        <div class="logo">
            <a href="sitemap.html" class="back-link"><i class="fas fa-arrow-left"></i></a>
            <img src="images/golfCoveLogo6.png" alt="Golf Cove">
            <h1>Golf Cove POS</h1>
        </div>
        <div class="datetime">
            <div class="time" id="currentTime">12:00 PM</div>
            <div id="currentDate">Sunday, December 8, 2025</div>
        </div>
    </header>

    <div class="pos-layout">
        <aside class="pos-sidebar">
            <div class="nav-section">
                <div class="nav-section-title">Main</div>
                <button class="nav-btn active" onclick="showPage('teesheet')"><i class="fas fa-calendar-alt"></i> Tee Sheet</button>
                <button class="nav-btn" onclick="showPage('pos')"><i class="fas fa-cash-register"></i> Point of Sale</button>
                <button class="nav-btn" onclick="showPage('transactions')"><i class="fas fa-receipt"></i> Transactions</button>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">Management</div>
                <button class="nav-btn" onclick="showPage('members')"><i class="fas fa-users"></i> Members</button>
                <button class="nav-btn" onclick="showPage('reports')"><i class="fas fa-chart-bar"></i> Reports</button>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">Quick Links</div>
                <button class="nav-btn" onclick="window.open('https://918booking.com/emb-bookings?course=7', '_blank')"><i class="fas fa-external-link-alt"></i> Online Booking</button>
                <button class="nav-btn" onclick="window.location.href='league-admin.html'"><i class="fas fa-trophy"></i> League Admin</button>
            </div>
        </aside>

        <main class="pos-main" id="mainContent">
            <!-- Tee Sheet -->
            <div id="page-teesheet" class="page-content">
                <h2 class="page-title"><i class="fas fa-calendar-alt"></i> Tee Sheet - Today</h2>
                <div class="stats-grid">
                    <div class="stat-card"><i class="fas fa-door-open"></i><div class="value" id="availableBays">4</div><div class="label">Available</div></div>
                    <div class="stat-card"><i class="fas fa-users"></i><div class="value" id="occupiedBays">2</div><div class="label">Occupied</div></div>
                    <div class="stat-card"><i class="fas fa-clock"></i><div class="value" id="upcomingRes">5</div><div class="label">Upcoming</div></div>
                    <div class="stat-card"><i class="fas fa-dollar-sign"></i><div class="value" id="todayRevenue">$845</div><div class="label">Today</div></div>
                </div>
                <div class="tee-sheet-grid" id="bayGrid"></div>
                <div class="time-slots">
                    <h3 style="margin-bottom: 15px;">Schedule</h3>
                    <div class="time-slot-header"><div>Time</div><div>Bay 1</div><div>Bay 2</div><div>Bay 3</div><div>Bay 4</div><div>Bay 5</div><div>Bay 6</div></div>
                    <div id="timeSlots"></div>
                </div>
            </div>

            <!-- POS -->
            <div id="page-pos" class="page-content" style="display:none;">
                <h2 class="page-title"><i class="fas fa-cash-register"></i> Point of Sale</h2>
                <div class="quick-actions">
                    <button class="quick-action" onclick="addToCart('1 Hour Bay', 45)"><i class="fas fa-golf-ball"></i><span>1 Hour Bay</span></button>
                    <button class="quick-action" onclick="addToCart('2 Hour Bay', 80)"><i class="fas fa-clock"></i><span>2 Hour Bay</span></button>
                    <button class="quick-action" onclick="addToCart('30 Min Lesson', 50)"><i class="fas fa-chalkboard-teacher"></i><span>Lesson</span></button>
                </div>
                <div class="pos-categories">
                    <button class="category-btn active" onclick="filterCategory('all')">All</button>
                    <button class="category-btn" onclick="filterCategory('bays')">Bay Rentals</button>
                    <button class="category-btn" onclick="filterCategory('food')">Food & Drinks</button>
                    <button class="category-btn" onclick="filterCategory('merch')">Merchandise</button>
                    <button class="category-btn" onclick="filterCategory('lessons')">Lessons</button>
                </div>
                <div class="pos-items-grid" id="posItems"></div>
            </div>

            <!-- Transactions -->
            <div id="page-transactions" class="page-content" style="display:none;">
                <h2 class="page-title"><i class="fas fa-receipt"></i> Recent Transactions</h2>
                <table class="transactions-table">
                    <thead><tr><th>ID</th><th>Customer</th><th>Items</th><th>Total</th><th>Payment</th><th>Status</th><th>Time</th></tr></thead>
                    <tbody id="transactionsBody"></tbody>
                </table>
            </div>

            <!-- Members -->
            <div id="page-members" class="page-content" style="display:none;">
                <h2 class="page-title"><i class="fas fa-users"></i> Members</h2>
                <div class="search-box"><i class="fas fa-search"></i><input type="text" placeholder="Search members..." id="memberSearch" oninput="filterMembers()"></div>
                <div class="members-list" id="membersList"></div>
            </div>

            <!-- Reports -->
            <div id="page-reports" class="page-content" style="display:none;">
                <h2 class="page-title"><i class="fas fa-chart-bar"></i> Reports</h2>
                <div class="stats-grid">
                    <div class="stat-card"><i class="fas fa-dollar-sign"></i><div class="value">$12,450</div><div class="label">This Week</div></div>
                    <div class="stat-card"><i class="fas fa-shopping-cart"></i><div class="value">156</div><div class="label">Transactions</div></div>
                    <div class="stat-card"><i class="fas fa-users"></i><div class="value">89</div><div class="label">Customers</div></div>
                    <div class="stat-card"><i class="fas fa-chart-line"></i><div class="value">+12%</div><div class="label">vs Last Week</div></div>
                </div>
            </div>
        </main>

        <aside class="pos-cart">
            <div class="cart-header">
                <h2><i class="fas fa-shopping-cart"></i> Current Sale</h2>
                <div class="cart-customer"><input type="text" placeholder="Customer name..." id="customerInput"></div>
            </div>
            <div class="cart-items" id="cartItems"><div class="cart-empty"><i class="fas fa-shopping-cart"></i><p>Cart is empty</p></div></div>
            <div class="cart-footer">
                <div class="cart-totals">
                    <div class="cart-row"><span>Subtotal</span><span id="subtotal">$0.00</span></div>
                    <div class="cart-row"><span>Tax (6.35%)</span><span id="tax">$0.00</span></div>
                    <div class="cart-row total"><span>Total</span><span id="total">$0.00</span></div>
                </div>
                <button class="checkout-btn" id="checkoutBtn" disabled onclick="showModal('payment')"><i class="fas fa-credit-card"></i> Checkout</button>
            </div>
        </aside>
    </div>

    <!-- Booking Modal -->
    <div class="modal-overlay" id="modal-booking">
        <div class="modal">
            <h3><i class="fas fa-calendar-plus"></i> New Booking</h3>
            <form id="bookingForm">
                <div class="form-group"><label>Customer Name</label><input type="text" id="bookingCustomer" required placeholder="Enter name"></div>
                <div class="form-row">
                    <div class="form-group"><label>Bay</label><select id="bookingBay"><option value="1">Bay 1</option><option value="2">Bay 2</option><option value="3">Bay 3</option><option value="4">Bay 4</option><option value="5">Bay 5</option><option value="6">Bay 6</option></select></div>
                    <div class="form-group"><label>Duration</label><select id="bookingDuration"><option value="1">1 Hour - $45</option><option value="2">2 Hours - $80</option><option value="3">3 Hours - $110</option></select></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label>Date</label><input type="date" id="bookingDate"></div>
                    <div class="form-group"><label>Time</label><select id="bookingTime"><option value="09:00">9:00 AM</option><option value="10:00">10:00 AM</option><option value="11:00">11:00 AM</option><option value="12:00">12:00 PM</option><option value="13:00">1:00 PM</option><option value="14:00">2:00 PM</option><option value="15:00">3:00 PM</option><option value="16:00">4:00 PM</option><option value="17:00">5:00 PM</option><option value="18:00">6:00 PM</option><option value="19:00">7:00 PM</option><option value="20:00">8:00 PM</option><option value="21:00">9:00 PM</option></select></div>
                </div>
                <div class="form-group"><label>Phone</label><input type="tel" id="bookingPhone" placeholder="(203) 555-0123"></div>
                <div class="modal-actions"><button type="button" class="btn-secondary" onclick="hideModal('booking')">Cancel</button><button type="submit" class="btn-primary">Create Booking</button></div>
            </form>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal-overlay" id="modal-payment">
        <div class="modal">
            <h3><i class="fas fa-credit-card"></i> Payment</h3>
            <div class="payment-summary"><h4>Order Summary</h4><div id="paymentItems"></div><div class="cart-row total" style="margin-top:15px;"><span>Total</span><span id="paymentTotal">$0.00</span></div></div>
            <div class="payment-methods">
                <div class="payment-method selected" onclick="selectPayment('card')"><i class="fas fa-credit-card"></i><span>Card</span></div>
                <div class="payment-method" onclick="selectPayment('cash')"><i class="fas fa-money-bill"></i><span>Cash</span></div>
                <div class="payment-method" onclick="selectPayment('giftcard')"><i class="fas fa-gift"></i><span>Gift Card</span></div>
                <div class="payment-method" onclick="selectPayment('account')"><i class="fas fa-user"></i><span>On Account</span></div>
            </div>
            <div class="modal-actions"><button type="button" class="btn-secondary" onclick="hideModal('payment')">Cancel</button><button type="button" class="btn-primary" onclick="processPayment()"><i class="fas fa-check"></i> Complete Sale</button></div>
        </div>
    </div>

    <script>
        let cart = [];
        let selectedPayment = 'card';
        let transactions = [
            { id: 'TXN001', customer: 'John Smith', items: '2 Hour Bay, Beer x2', total: 92, payment: 'Card', status: 'completed', time: '11:30 AM' },
            { id: 'TXN002', customer: 'Walk-in', items: '1 Hour Bay, Nachos', total: 56, payment: 'Cash', status: 'completed', time: '10:45 AM' },
            { id: 'TXN003', customer: 'Sarah Johnson', items: '30 Min Lesson', total: 50, payment: 'Account', status: 'completed', time: '10:00 AM' },
        ];
        let bookings = JSON.parse(localStorage.getItem('golfcove_bookings') || '[]');
        
        const bays = [
            { id: 1, name: 'Bay 1', status: 'available' },
            { id: 2, name: 'Bay 2', status: 'occupied', customer: 'Mike Johnson', endTime: '2:30 PM' },
            { id: 3, name: 'Bay 3', status: 'available' },
            { id: 4, name: 'Bay 4', status: 'occupied', customer: 'Sarah Wilson', endTime: '3:00 PM' },
            { id: 5, name: 'Bay 5', status: 'available' },
            { id: 6, name: 'Bay 6', status: 'reserved', customer: 'Tom Brown', startTime: '4:00 PM' }
        ];

        const posItems = [
            { id: 1, name: '1 Hour Bay', price: 45, category: 'bays', icon: 'fa-golf-ball' },
            { id: 2, name: '2 Hour Bay', price: 80, category: 'bays', icon: 'fa-clock' },
            { id: 3, name: '3 Hour Bay', price: 110, category: 'bays', icon: 'fa-hourglass' },
            { id: 4, name: 'Burger', price: 14, category: 'food', icon: 'fa-hamburger' },
            { id: 5, name: 'Wings', price: 12, category: 'food', icon: 'fa-drumstick-bite' },
            { id: 6, name: 'Nachos', price: 11, category: 'food', icon: 'fa-cheese' },
            { id: 7, name: 'Beer', price: 6, category: 'food', icon: 'fa-beer-mug-empty' },
            { id: 8, name: 'Cocktail', price: 10, category: 'food', icon: 'fa-martini-glass' },
            { id: 9, name: 'Soda', price: 3, category: 'food', icon: 'fa-bottle-water' },
            { id: 10, name: 'Golf Glove', price: 25, category: 'merch', icon: 'fa-hand' },
            { id: 11, name: 'Golf Balls', price: 35, category: 'merch', icon: 'fa-circle' },
            { id: 12, name: 'Hat', price: 28, category: 'merch', icon: 'fa-hat-cowboy' },
            { id: 13, name: 'T-Shirt', price: 32, category: 'merch', icon: 'fa-shirt' },
            { id: 14, name: '30 Min Lesson', price: 50, category: 'lessons', icon: 'fa-chalkboard-teacher' },
            { id: 15, name: '1 Hour Lesson', price: 90, category: 'lessons', icon: 'fa-user-graduate' },
            { id: 16, name: 'Gift Card $50', price: 50, category: 'merch', icon: 'fa-gift' },
            { id: 17, name: 'Gift Card $100', price: 100, category: 'merch', icon: 'fa-gift' },
        ];

        const members = [
            { id: 1, name: 'John Smith', email: 'john@email.com', phone: '(203) 555-0101', tier: 'gold', points: 2450 },
            { id: 2, name: 'Sarah Johnson', email: 'sarah@email.com', phone: '(203) 555-0102', tier: 'silver', points: 1200 },
            { id: 3, name: 'Mike Williams', email: 'mike@email.com', phone: '(203) 555-0103', tier: 'gold', points: 3100 },
            { id: 4, name: 'Emily Davis', email: 'emily@email.com', phone: '(203) 555-0104', tier: 'bronze', points: 450 },
            { id: 5, name: 'Chris Brown', email: 'chris@email.com', phone: '(203) 555-0105', tier: 'silver', points: 890 },
        ];

        // Clock
        function updateClock() {
            const now = new Date();
            document.getElementById('currentTime').textContent = now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });
            document.getElementById('currentDate').textContent = now.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Navigation
        function showPage(page) {
            document.querySelectorAll('.page-content').forEach(p => p.style.display = 'none');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('page-' + page).style.display = 'block';
            event.target.closest('.nav-btn').classList.add('active');
        }

        // Bays
        function renderBays() {
            document.getElementById('bayGrid').innerHTML = bays.map(bay => `
                <div class="bay-card ${bay.status}" onclick="showModal('booking'); document.getElementById('bookingBay').value='${bay.id}'">
                    <div class="bay-header"><span class="bay-name">${bay.name}</span><span class="bay-status ${bay.status}">${bay.status}</span></div>
                    <div class="bay-info">
                        ${bay.status === 'occupied' ? `<p class="customer">${bay.customer}</p><p class="time">Until ${bay.endTime}</p>` : ''}
                        ${bay.status === 'reserved' ? `<p class="customer">${bay.customer}</p><p class="time">At ${bay.startTime}</p>` : ''}
                        ${bay.status === 'available' ? '<p>Click to book</p>' : ''}
                    </div>
                </div>
            `).join('');
        }

        // Time Slots
        function renderTimeSlots() {
            const times = ['9:00 AM', '10:00 AM', '11:00 AM', '12:00 PM', '1:00 PM', '2:00 PM', '3:00 PM', '4:00 PM', '5:00 PM', '6:00 PM', '7:00 PM', '8:00 PM', '9:00 PM'];
            document.getElementById('timeSlots').innerHTML = times.map(time => {
                const slots = [];
                for (let i = 1; i <= 6; i++) {
                    const booked = Math.random() > 0.7;
                    slots.push(`<div class="slot ${booked ? 'booked' : 'available'}" onclick="bookSlot(${i}, '${time}')">${booked ? 'Booked' : 'Open'}</div>`);
                }
                return `<div class="time-slot-row"><div class="time-label">${time}</div>${slots.join('')}</div>`;
            }).join('');
        }

        function bookSlot(bay, time) {
            document.getElementById('bookingBay').value = bay;
            showModal('booking');
        }

        // POS Items
        function renderPosItems(category = 'all') {
            const filtered = category === 'all' ? posItems : posItems.filter(i => i.category === category);
            document.getElementById('posItems').innerHTML = filtered.map(item => `
                <div class="pos-item" onclick="addToCart('${item.name}', ${item.price})">
                    <i class="fas ${item.icon}"></i><h4>${item.name}</h4><div class="price">$${item.price}</div>
                </div>
            `).join('');
        }

        function filterCategory(category) {
            document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            renderPosItems(category);
        }

        // Cart
        function addToCart(name, price) {
            const existing = cart.find(i => i.name === name);
            if (existing) existing.qty++;
            else cart.push({ name, price, qty: 1 });
            renderCart();
        }

        function removeFromCart(index) { cart.splice(index, 1); renderCart(); }

        function renderCart() {
            const container = document.getElementById('cartItems');
            if (cart.length === 0) {
                container.innerHTML = `<div class="cart-empty"><i class="fas fa-shopping-cart"></i><p>Cart is empty</p></div>`;
                document.getElementById('checkoutBtn').disabled = true;
            } else {
                container.innerHTML = cart.map((item, i) => `
                    <div class="cart-item">
                        <div class="cart-item-info"><h4>${item.name} ${item.qty > 1 ? 'x'+item.qty : ''}</h4><p>$${item.price} each</p></div>
                        <div class="cart-item-price">$${(item.price * item.qty).toFixed(2)}</div>
                        <button class="cart-item-remove" onclick="removeFromCart(${i})"><i class="fas fa-trash"></i></button>
                    </div>
                `).join('');
                document.getElementById('checkoutBtn').disabled = false;
            }
            updateTotals();
        }

        function updateTotals() {
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
            const tax = subtotal * 0.0635;
            const total = subtotal + tax;
            document.getElementById('subtotal').textContent = '$' + subtotal.toFixed(2);
            document.getElementById('tax').textContent = '$' + tax.toFixed(2);
            document.getElementById('total').textContent = '$' + total.toFixed(2);
            document.getElementById('paymentTotal').textContent = '$' + total.toFixed(2);
        }

        // Payment
        function selectPayment(method) {
            selectedPayment = method;
            document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('selected'));
            event.target.closest('.payment-method').classList.add('selected');
        }

        function processPayment() {
            const customer = document.getElementById('customerInput').value || 'Walk-in';
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
            const total = subtotal * 1.0635;
            
            transactions.unshift({
                id: 'TXN' + String(transactions.length + 1).padStart(3, '0'),
                customer: customer,
                items: cart.map(i => i.qty > 1 ? `${i.name} x${i.qty}` : i.name).join(', '),
                total: total.toFixed(2),
                payment: selectedPayment.charAt(0).toUpperCase() + selectedPayment.slice(1),
                status: 'completed',
                time: new Date().toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true })
            });
            renderTransactions();
            cart = [];
            renderCart();
            document.getElementById('customerInput').value = '';
            hideModal('payment');
            alert('Payment processed! Transaction ID: ' + transactions[0].id);
        }

        // Transactions
        function renderTransactions() {
            document.getElementById('transactionsBody').innerHTML = transactions.map(t => `
                <tr><td>${t.id}</td><td>${t.customer}</td><td>${t.items}</td><td>$${t.total}</td><td>${t.payment}</td><td><span class="status-badge ${t.status}">${t.status}</span></td><td>${t.time}</td></tr>
            `).join('');
        }

        // Members
        function renderMembers(filter = '') {
            const filtered = filter ? members.filter(m => m.name.toLowerCase().includes(filter.toLowerCase())) : members;
            document.getElementById('membersList').innerHTML = filtered.map(m => `
                <div class="member-card" onclick="document.getElementById('customerInput').value='${m.name}'">
                    <div class="member-avatar">${m.name.split(' ').map(n => n[0]).join('')}</div>
                    <div class="member-info"><h4>${m.name}</h4><p>${m.phone} â€¢ ${m.points} pts</p></div>
                    <span class="member-tier ${m.tier}">${m.tier}</span>
                </div>
            `).join('');
        }

        function filterMembers() { renderMembers(document.getElementById('memberSearch').value); }

        // Modals
        function showModal(name) {
            document.getElementById('modal-' + name).classList.add('active');
            if (name === 'payment') {
                document.getElementById('paymentItems').innerHTML = cart.map(i => 
                    `<div style="display:flex;justify-content:space-between;margin-bottom:5px;"><span>${i.name} ${i.qty > 1 ? 'x'+i.qty : ''}</span><span>$${(i.price*i.qty).toFixed(2)}</span></div>`
                ).join('');
            }
        }

        function hideModal(name) { document.getElementById('modal-' + name).classList.remove('active'); }

        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => { if (e.target === overlay) overlay.classList.remove('active'); });
        });

        // Booking Form
        document.getElementById('bookingForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const prices = { '1': 45, '2': 80, '3': 110 };
            const duration = document.getElementById('bookingDuration').value;
            const bay = document.getElementById('bookingBay').value;
            addToCart(`Bay ${bay} - ${duration} Hr`, prices[duration]);
            hideModal('booking');
            alert('Booking created! Added to cart.');
            e.target.reset();
        });

        document.getElementById('bookingDate').valueAsDate = new Date();

        // Init
        renderBays();
        renderTimeSlots();
        renderPosItems();
        renderCart();
        renderTransactions();
        renderMembers();
    </script>
</body>
</html>
